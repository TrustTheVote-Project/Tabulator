<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html 
     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>Class: Operator</title>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
  <meta http-equiv="Content-Script-Type" content="text/javascript" />
  <link rel="stylesheet" href=".././rdoc-style.css" type="text/css" media="screen" />
  <script type="text/javascript">
  // <![CDATA[

  function popupCode( url ) {
    window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
  }

  function toggleCode( id ) {
    if ( document.getElementById )
      elem = document.getElementById( id );
    else if ( document.all )
      elem = eval( "document.all." + id );
    else
      return false;

    elemStyle = elem.style;
    
    if ( elemStyle.display != "block" ) {
      elemStyle.display = "block"
    } else {
      elemStyle.display = "none"
    }

    return true;
  }
  
  // Make codeblocks hidden by default
  document.writeln( "<style type=\"text/css\">div.method-source-code { display: none }</style>" )
  
  // ]]>
  </script>

</head>
<body>



    <div id="classHeader">
        <table class="header-table">
        <tr class="top-aligned-row">
          <td><strong>Class</strong></td>
          <td class="class-name-in-header">Operator</td>
        </tr>
        <tr class="top-aligned-row">
            <td><strong>In:</strong></td>
            <td>
                <a href="../files/operator_rb.html">
                operator.rb
                </a>
        <br />
            </td>
        </tr>

        <tr class="top-aligned-row">
            <td><strong>Parent:</strong></td>
            <td>
                Object
            </td>
        </tr>
        </table>
    </div>
  <!-- banner header -->

  <div id="bodyContent">



  <div id="contextContent">

    <div id="description">
      <p>
The <a href="Operator.html">Operator</a> class contains the <a
href="Tabulator.html">Tabulator</a> <a href="Operator.html">Operator</a>.
Methods beginning with &quot;op_&quot; are public, and there is only one
such, <a href="Operator.html#M000101">op_command</a>, which implements the
command-line interface to the <a href="Operator.html">Operator</a>. Methods
beginning with &quot;opc_&quot; implement <a
href="Operator.html">Operator</a> commands. Methods beginning with
&quot;opx_&quot; handle the system calls, and all are protected from
exceptions by rescue clauses that generate either a File error, in the case
the exception was raised while processing an <a
href="Operator.html">Operator</a>-supplied file, or a Fatal error, in the
case that the operation being performed was internal to the <a
href="Tabulator.html">Tabulator</a> and/or <a
href="Operator.html">Operator</a> and should never cause problems. There is
one other type of error, a Command error, which occurs when an <a
href="Operator.html">Operator</a> command is syntactically invalid.
</p>
<p>
The <a href="Operator.html">Operator</a> handles errors by raising its
locally-defined <a href="Operator/OperatorError.html">OperatorError</a>
exception, passing it the error message. This exception is caught only by
<a href="Operator.html#M000101">op_command</a>, the <a
href="Operator.html">Operator</a>&#8216;s single public method and thus its
only interface, which displays the error message and terminates.
</p>

    </div>


   </div>

    <div id="method-list">
      <h3 class="section-bar">Methods</h3>

      <div class="name-list">
      <a href="#M000101">op_command</a>&nbsp;&nbsp;
      <a href="#M000108">opc_add</a>&nbsp;&nbsp;
      <a href="#M000109">opc_check</a>&nbsp;&nbsp;
      <a href="#M000104">opc_data</a>&nbsp;&nbsp;
      <a href="#M000102">opc_help</a>&nbsp;&nbsp;
      <a href="#M000107">opc_load</a>&nbsp;&nbsp;
      <a href="#M000103">opc_reset</a>&nbsp;&nbsp;
      <a href="#M000105">opc_state</a>&nbsp;&nbsp;
      <a href="#M000106">opc_total</a>&nbsp;&nbsp;
      <a href="#M000127">opx_check_syntax</a>&nbsp;&nbsp;
      <a href="#M000114">opx_empty_state?</a>&nbsp;&nbsp;
      <a href="#M000110">opx_err</a>&nbsp;&nbsp;
      <a href="#M000117">opx_file_backup</a>&nbsp;&nbsp;
      <a href="#M000120">opx_file_close</a>&nbsp;&nbsp;
      <a href="#M000116">opx_file_exist?</a>&nbsp;&nbsp;
      <a href="#M000119">opx_file_open_read</a>&nbsp;&nbsp;
      <a href="#M000121">opx_file_open_write</a>&nbsp;&nbsp;
      <a href="#M000115">opx_file_process</a>&nbsp;&nbsp;
      <a href="#M000118">opx_file_read</a>&nbsp;&nbsp;
      <a href="#M000122">opx_file_write_spreadsheet</a>&nbsp;&nbsp;
      <a href="#M000123">opx_file_write_tabulator</a>&nbsp;&nbsp;
      <a href="#M000124">opx_instantiate_tabulator</a>&nbsp;&nbsp;
      <a href="#M000125">opx_new_tabulator_jd_ed</a>&nbsp;&nbsp;
      <a href="#M000126">opx_new_tabulator_tc</a>&nbsp;&nbsp;
      <a href="#M000111">opx_print</a>&nbsp;&nbsp;
      <a href="#M000112">opx_print_tabulator_count</a>&nbsp;&nbsp;
      <a href="#M000113">opx_warn</a>&nbsp;&nbsp;
      </div>
    </div>

  </div>


    <!-- if includes -->

    <div id="section">

    <div id="class-list">
      <h3 class="section-bar">Classes and Modules</h3>

      Class <a href="Operator/OperatorError.html" class="link">Operator::OperatorError</a><br />

    </div>

    <div id="constants-list">
      <h3 class="section-bar">Constants</h3>

      <div class="name-list">
        <table summary="Constants">
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">TABULATOR_DATA_FILE</td>
          <td>=</td>
          <td class="context-item-value">&quot;TABULATOR_DATA.yml&quot;</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">TABULATOR_BACKUP_FILE</td>
          <td>=</td>
          <td class="context-item-value">&quot;TABULATOR_BACKUP.yml&quot;</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">TABULATOR_SPREADSHEET_FILE</td>
          <td>=</td>
          <td class="context-item-value">&quot;TABULATOR_SPREADSHEET.csv&quot;</td>
        </tr>
        </table>
      </div>
    </div>



      


    <!-- if method_list -->
    <div id="methods">
      <h3 class="section-bar">Public Instance methods</h3>

      <div id="method-M000101" class="method-detail">
        <a name="M000101"></a>

        <div class="method-heading">
          <a href="Operator.src/M000101.html" target="Code" class="method-signature"
            onclick="popupCode('Operator.src/M000101.html');return false;">
          <span class="method-name">op_command</span><span class="method-args">(args)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Arguments:
</p>
<ul>
<li><em>args</em> (<em>Array</em>) command-line arguments

</li>
</ul>
<p>
Returns: <em>String</em>
</p>
<p>
Implements the command-line interface for the <a
href="Tabulator.html">Tabulator</a> <a href="Operator.html">Operator</a>.
Checks all commands for syntactic correctness, and generates Command errors
when violations occur. Rescues <a
href="Operator/OperatorError.html">OperatorError</a> exceptions, by
displaying their error messages and any messages from previously caught
System exceptions, and then terminating. Finally, any unhandled exceptions
are rescued to permit a graceful failure in this unlikely event.
</p>
        </div>
      </div>

      <h3 class="section-bar">Private Instance methods</h3>

      <div id="method-M000108" class="method-detail">
        <a name="M000108"></a>

        <div class="method-heading">
          <a href="Operator.src/M000108.html" target="Code" class="method-signature"
            onclick="popupCode('Operator.src/M000108.html');return false;">
          <span class="method-name">opc_add</span><span class="method-args">(cc_file)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Arguments:
</p>
<ul>
<li><em>cc_file</em>: (<em>String</em>) Counter Count file name

</li>
</ul>
<p>
Returns: N/A
</p>
<p>
Implements the &quot;add&quot; command, which is a no-op if the <a
href="Tabulator.html">Tabulator</a> is in the EMPTY state. Processes the
Counter Count file, checking for existence, correct syntax, and validity.
Any <a href="Tabulator.html">Tabulator</a> validation errors cause the
Counter Count to be rejected, that is, its votes are not counted.
Regardless, the Counter Count is incorporated into the <a
href="Tabulator.html">Tabulator</a> dataset, which is written to the
<b><tt>TABULATOR_DATA_FILE</b></tt>.
</p>
        </div>
      </div>

      <div id="method-M000109" class="method-detail">
        <a name="M000109"></a>

        <div class="method-heading">
          <a href="Operator.src/M000109.html" target="Code" class="method-signature"
            onclick="popupCode('Operator.src/M000109.html');return false;">
          <span class="method-name">opc_check</span><span class="method-args">(tc_file = false)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Arguments:
</p>
<ul>
<li><em>tc_file</em>: (<em>String</em>) <a href="Tabulator.html">Tabulator</a>
Count file name (optional)

</li>
</ul>
<p>
Returns: N/A
</p>
<p>
(Temporary, for DEBUG purposes only.) Implements the &quot;check&quot;
command, which is a no-op if the <a href="Tabulator.html">Tabulator</a> is
in the EMPTY state. Processes the <a href="Tabulator.html">Tabulator</a>
Count file (using <b><tt>TABULATOR_DATA_FILE</b></tt> if <em>tc_file</em>
is not specified), checking for existence, correct syntax, and validity.
</p>
        </div>
      </div>

      <div id="method-M000104" class="method-detail">
        <a name="M000104"></a>

        <div class="method-heading">
          <a href="Operator.src/M000104.html" target="Code" class="method-signature"
            onclick="popupCode('Operator.src/M000104.html');return false;">
          <span class="method-name">opc_data</span><span class="method-args">(tab = false)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Arguments:
</p>
<ul>
<li><em>tab</em> (<em>Class Object</em>) <a href="Tabulator.html">Tabulator</a>
object (optional)

</li>
</ul>
<p>
Returns: N/A
</p>
<p>
Implements the &quot;data&quot; command, which is a no-op if the <a
href="Tabulator.html">Tabulator</a> is in the EMPTY state. Prints <a
href="Tabulator.html">Tabulator</a> data held either by the optional <a
href="Tabulator.html">Tabulator</a> object (<em>tab</em>) provided as input
or by re-instantiating the <a href="Tabulator.html">Tabulator</a> from its
persistent data file <b><tt>TABULATOR_DATA_FILE</b></tt>.
</p>
        </div>
      </div>

      <div id="method-M000102" class="method-detail">
        <a name="M000102"></a>

        <div class="method-heading">
          <a href="Operator.src/M000102.html" target="Code" class="method-signature"
            onclick="popupCode('Operator.src/M000102.html');return false;">
          <span class="method-name">opc_help</span><span class="method-args">(detail = false)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Arguments:
</p>
<ul>
<li><em>detail</em> (<em>Boolean</em>) whether to print detailed help
information (optional)

</li>
</ul>
<p>
Returns: N/A
</p>
<p>
Implements the &quot;help&quot; command. Prints simple or detailed help
information concerning the <a href="Operator.html">Operator</a> commands.
</p>
        </div>
      </div>

      <div id="method-M000107" class="method-detail">
        <a name="M000107"></a>

        <div class="method-heading">
          <a href="Operator.src/M000107.html" target="Code" class="method-signature"
            onclick="popupCode('Operator.src/M000107.html');return false;">
          <span class="method-name">opc_load</span><span class="method-args">(jd_file, ed_file, proceed = false)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Arguments:
</p>
<ul>
<li><em>jd_file</em> (<em>String</em>) Jurisdiction Definition (JD) File

</li>
<li><em>ed_file</em> (<em>String</em>) Election Definition (JD) File

</li>
<li><em>proceed</em> (<em>Boolean</em>) indicates when to proceed without
asking the operator (optional, for testing)

</li>
</ul>
<p>
Returns: N/A
</p>
<p>
Implements the &quot;load&quot; command, which is a no-op unless the <a
href="Tabulator.html">Tabulator</a> is in the EMPTY state. Processes the JD
and ED files, checking them for existence, correct syntax, and validity.
Any <a href="Tabulator.html">Tabulator</a> validation errors cause them to
be rejected, otherwise they may be used to create a new initial <a
href="Tabulator.html">Tabulator</a> dataset. In testing mode,
<em>proceed</em> is <em>true</em>, and they are used without question.
Otherwise, the operator is shown a <a href="Tabulator.html">Tabulator</a>
data summary, asked for confirmation, and they are used only if approved,
rejected otherwise.
</p>
        </div>
      </div>

      <div id="method-M000103" class="method-detail">
        <a name="M000103"></a>

        <div class="method-heading">
          <a href="Operator.src/M000103.html" target="Code" class="method-signature"
            onclick="popupCode('Operator.src/M000103.html');return false;">
          <span class="method-name">opc_reset</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
No Arguments
</p>
<p>
Returns: N/A
</p>
<p>
Implements the &quot;reset&quot; command. Resets the <a
href="Tabulator.html">Tabulator</a> state to EMPTY, by backing up the
contents of the <a href="Tabulator.html">Tabulator</a> data file from
<b><tt>TABULATOR_DATA_FILE</b></tt> to
<b><tt>TABULATOR_BACKUP_FILE</b></tt>.
</p>
        </div>
      </div>

      <div id="method-M000105" class="method-detail">
        <a name="M000105"></a>

        <div class="method-heading">
          <a href="Operator.src/M000105.html" target="Code" class="method-signature"
            onclick="popupCode('Operator.src/M000105.html');return false;">
          <span class="method-name">opc_state</span><span class="method-args">(tab = false, detail = false)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Arguments:
</p>
<ul>
<li><em>tab</em> (<em>Class Object</em>) <a href="Tabulator.html">Tabulator</a>
object (optional)

</li>
<li><em>detail</em> (<em>Boolean</em>) whether to print details about the state
(optional)

</li>
</ul>
<p>
Returns: N/A
</p>
<p>
Implements the &quot;state&quot; command. Prints the <a
href="Tabulator.html">Tabulator</a> state either using the optional <a
href="Tabulator.html">Tabulator</a> object (<em>tab</em>) provided as input
or by re-instantiating the <a href="Tabulator.html">Tabulator</a> from its
persistent data file <b><tt>TABULATOR_DATA_FILE</b></tt>. If indicated,
print detailed information about the missing counts (which is only
applicable if Expected Counts were previously defined).
</p>
        </div>
      </div>

      <div id="method-M000106" class="method-detail">
        <a name="M000106"></a>

        <div class="method-heading">
          <a href="Operator.src/M000106.html" target="Code" class="method-signature"
            onclick="popupCode('Operator.src/M000106.html');return false;">
          <span class="method-name">opc_total</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
No Arguments
</p>
<p>
Returns: N/A
</p>
<p>
Implements the &quot;total&quot; command. Re-instantiates the <a
href="Tabulator.html">Tabulator</a> from its persistent data file
<b><tt>TABULATOR_DATA_FILE</b></tt>, prints out detailed state information,
then writes out a <a href="Tabulator.html">Tabulator</a> spreadsheet, in
CSV (Comma-Separated Value) format, that contains the current vote count.
(For testing purposes, it also prints the CSV data to STDOUT.)
</p>
        </div>
      </div>

      <div id="method-M000127" class="method-detail">
        <a name="M000127"></a>

        <div class="method-heading">
          <a href="Operator.src/M000127.html" target="Code" class="method-signature"
            onclick="popupCode('Operator.src/M000127.html');return false;">
          <span class="method-name">opx_check_syntax</span><span class="method-args">(key, datum)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Arguments:
</p>
<ul>
<li><em>key</em> (<em>String</em>) Hash key expected in datum and used to
identify the schema

</li>
<li><em>datum</em> (<em>Hash</em>) <a href="Tabulator.html">Tabulator</a>
election data to be syntax-checked against a built-in schema

</li>
</ul>
<p>
Returns: <em>Boolean</em>
</p>
<p>
Returns <em>true</em> iff there are no errors resulting from
syntax-checking the <em>datum</em> against the schema identified by the
<em>key</em>. Generates a Fatal error if any problems occur.
</p>
        </div>
      </div>

      <div id="method-M000114" class="method-detail">
        <a name="M000114"></a>

        <div class="method-heading">
          <a href="Operator.src/M000114.html" target="Code" class="method-signature"
            onclick="popupCode('Operator.src/M000114.html');return false;">
          <span class="method-name">opx_empty_state?</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
No Arguments
</p>
<p>
Returns: <em>Boolean</em>
</p>
<p>
Returns <em>true</em> iff the <a href="Tabulator.html">Tabulator</a> state
is EMPTY, as evidenced by the non-existence of the
<b><tt>TABULATOR_DATA_FILE</b></tt> .
</p>
        </div>
      </div>

      <div id="method-M000110" class="method-detail">
        <a name="M000110"></a>

        <div class="method-heading">
          <a href="Operator.src/M000110.html" target="Code" class="method-signature"
            onclick="popupCode('Operator.src/M000110.html');return false;">
          <span class="method-name">opx_err</span><span class="method-args">(message, e = false)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Arguments:
</p>
<ul>
<li><em>message</em> (<em>String</em>) error message

</li>
<li><em>message</em> (<em>Exception Object</em> (optional) appears when the
error was caused by rescuing a System-level exception

</li>
</ul>
<p>
Returns: N/A
</p>
<p>
Handles <a href="Operator.html">Operator</a>-detected errors by raising the
<a href="Operator/OperatorError.html">OperatorError</a> exception. Passes
the error message to the <a
href="Operator/OperatorError.html">OperatorError</a> exception, and if the
error was produced while rescuing another exception, appends the
exception&#8216;s message to the end of the error message.
</p>
        </div>
      </div>

      <div id="method-M000117" class="method-detail">
        <a name="M000117"></a>

        <div class="method-heading">
          <a href="Operator.src/M000117.html" target="Code" class="method-signature"
            onclick="popupCode('Operator.src/M000117.html');return false;">
          <span class="method-name">opx_file_backup</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
No Arguments
</p>
<p>
Returns: N/A
</p>
<p>
Backs up the <a href="Tabulator.html">Tabulator</a> data in
<b><tt>TABULATOR_DATA_FILE</b></tt> to
<b><tt>TABULATOR_BACKUP_FILE</b></tt>, by renaming the first file to the
second. Generates a Fatal error if any problems occur.
</p>
        </div>
      </div>

      <div id="method-M000120" class="method-detail">
        <a name="M000120"></a>

        <div class="method-heading">
          <a href="Operator.src/M000120.html" target="Code" class="method-signature"
            onclick="popupCode('Operator.src/M000120.html');return false;">
          <span class="method-name">opx_file_close</span><span class="method-args">(file)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Arguments:
</p>
<ul>
<li><em>file</em>: (<em>File Handle</em>) file handle

</li>
</ul>
<p>
Returns: N/A
</p>
<p>
Closes the named <em>file</em>. Generates a Fatal error if a problem occurs
while closing the file.
</p>
        </div>
      </div>

      <div id="method-M000116" class="method-detail">
        <a name="M000116"></a>

        <div class="method-heading">
          <a href="Operator.src/M000116.html" target="Code" class="method-signature"
            onclick="popupCode('Operator.src/M000116.html');return false;">
          <span class="method-name">opx_file_exist?</span><span class="method-args">(file)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Arguments:
</p>
<ul>
<li><em>file</em>: (<em>String</em>) file name

</li>
</ul>
<p>
Returns: <em>Boolean</em>
</p>
<p>
Returns &lt;t&gt;true&lt;/i&gt; iff the <em>file</em> exists, by returning
the result of calling File.exist? on the <em>file</em>. Generates a Fatal
error if any problems occur.
</p>
        </div>
      </div>

      <div id="method-M000119" class="method-detail">
        <a name="M000119"></a>

        <div class="method-heading">
          <a href="Operator.src/M000119.html" target="Code" class="method-signature"
            onclick="popupCode('Operator.src/M000119.html');return false;">
          <span class="method-name">opx_file_open_read</span><span class="method-args">(file, fatal = false)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Arguments:
</p>
<ul>
<li><em>file</em>: (<em>String</em>) file name

</li>
<li><em>fatal</em>: (<em>Boolean</em>) indicates when errors are Fatal
(optional)

</li>
</ul>
<p>
Returns: <em>File Handle</em>
</p>
<p>
Opens the <em>file</em> for reading and returns the resulting file handle.
Generates a File or Fatal error (depending on <em>fatal</em>, which is
<em>true</em> only when opening the <b><tt>TABULATOR_DATA_FILE</b></tt> or
a built-in Schema file) if a problem occurs while opening the file.
</p>
        </div>
      </div>

      <div id="method-M000121" class="method-detail">
        <a name="M000121"></a>

        <div class="method-heading">
          <a href="Operator.src/M000121.html" target="Code" class="method-signature"
            onclick="popupCode('Operator.src/M000121.html');return false;">
          <span class="method-name">opx_file_open_write</span><span class="method-args">(file)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Arguments:
</p>
<ul>
<li><em>file</em>: (<em>String</em>) file name

</li>
</ul>
<p>
Returns: <em>File Handle</em>
</p>
<p>
Opens the <em>file</em> for writing and returns the resulting file handle.
Generates a Fatal error if a problem occurs while opening the file.
</p>
        </div>
      </div>

      <div id="method-M000115" class="method-detail">
        <a name="M000115"></a>

        <div class="method-heading">
          <a href="Operator.src/M000115.html" target="Code" class="method-signature"
            onclick="popupCode('Operator.src/M000115.html');return false;">
          <span class="method-name">opx_file_process</span><span class="method-args">(file, type, key, fatal = false)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Arguments:
</p>
<ul>
<li><em>file</em> (<em>String</em>) file name

</li>
<li><em>type</em> (<em>String</em>) file type

</li>
<li><em>key</em> (<em>String</em>) Hash key expected to appear in file

</li>
<li><em>fatal</em>: (<em>Boolean</em>) indicates when errors are Fatal
(optional)

</li>
</ul>
<p>
Returns: <em>Hash</em>
</p>
<p>
Processes <a href="Tabulator.html">Tabulator</a> election data
(Jurisdiction Definition, Election Definition, Counter Count, or <a
href="Tabulator.html">Tabulator</a> Count) stored in <em>file</em> and
returns the resulting datum. The datum undergoes a syntax check against a
built-in schema before being returned. Generates a File or Fatal error
(depending on <em>fatal</em>, which is <em>true</em> only when processing
the <b><tt>TABULATOR_DATA_FILE</b></tt>) if any problems occur.
</p>
        </div>
      </div>

      <div id="method-M000118" class="method-detail">
        <a name="M000118"></a>

        <div class="method-heading">
          <a href="Operator.src/M000118.html" target="Code" class="method-signature"
            onclick="popupCode('Operator.src/M000118.html');return false;">
          <span class="method-name">opx_file_read</span><span class="method-args">(file, fatal = false)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Arguments:
</p>
<ul>
<li><em>file</em>: (<em>String</em>) file name

</li>
<li><em>fatal</em>: (<em>Boolean</em>) indicates when errors are Fatal
(optional)

</li>
</ul>
<p>
Returns: <em>Hash</em>
</p>
<p>
Reads <a href="Tabulator.html">Tabulator</a> election data (Jurisdiction
Definition, Election Definition, Counter Count, or <a
href="Tabulator.html">Tabulator</a> Count) from an existing <em>file</em>
and returns the Hash loaded by the YAML module. Generates a File or Fatal
error (depending on <em>fatal</em>, which is <em>true</em> only when
reading the <b><tt>TABULATOR_DATA_FILE</b></tt> or a built-in Schema file)
if a problem occurs while reading from the file.
</p>
        </div>
      </div>

      <div id="method-M000122" class="method-detail">
        <a name="M000122"></a>

        <div class="method-heading">
          <a href="Operator.src/M000122.html" target="Code" class="method-signature"
            onclick="popupCode('Operator.src/M000122.html');return false;">
          <span class="method-name">opx_file_write_spreadsheet</span><span class="method-args">(tab)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Arguments:
</p>
<ul>
<li><em>tab</em>: (<em>Class Object</em>) <a
href="Tabulator.html">Tabulator</a> object

</li>
</ul>
<p>
Returns: <em>Array</em> of <em>String</em>
</p>
<p>
Calls the <a href="Tabulator.html">Tabulator</a> to produce the lines of
textual data for a CSV spreadsheet representing the current set of voting
results, which it writes to <b><tt>TABULATOR_SPREADSHEET_FILE</b></tt>, and
then returns. Generates a Fatal error if problems occur during the write.
</p>
        </div>
      </div>

      <div id="method-M000123" class="method-detail">
        <a name="M000123"></a>

        <div class="method-heading">
          <a href="Operator.src/M000123.html" target="Code" class="method-signature"
            onclick="popupCode('Operator.src/M000123.html');return false;">
          <span class="method-name">opx_file_write_tabulator</span><span class="method-args">(tab)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Arguments:
</p>
<ul>
<li><em>tab</em>: (<em>Class Object</em>) <a
href="Tabulator.html">Tabulator</a> object

</li>
</ul>
<p>
Returns: N/A
</p>
<p>
Writes the current <a href="Tabulator.html">Tabulator</a> data to
<b><tt>TABULATOR_DATA_FILE</b></tt>. Generates a Fatal error if problems
occur while writing the file.
</p>
        </div>
      </div>

      <div id="method-M000124" class="method-detail">
        <a name="M000124"></a>

        <div class="method-heading">
          <a href="Operator.src/M000124.html" target="Code" class="method-signature"
            onclick="popupCode('Operator.src/M000124.html');return false;">
          <span class="method-name">opx_instantiate_tabulator</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
No Arguments
</p>
<p>
Returns: <a href="Tabulator.html">Tabulator</a> Object
</p>
<p>
Use the contents of the <b><tt>TABULATOR_DATA_FILE</b></tt> to instantiate
a new <a href="Tabulator.html">Tabulator</a> object, which is returned.
Generates a Fatal error if there are any <a
href="Tabulator.html">Tabulator</a> validation errors or warnings, because
this implies that <a href="Tabulator.html">Tabulator</a> is in an
inconsistent state.
</p>
        </div>
      </div>

      <div id="method-M000125" class="method-detail">
        <a name="M000125"></a>

        <div class="method-heading">
          <a href="Operator.src/M000125.html" target="Code" class="method-signature"
            onclick="popupCode('Operator.src/M000125.html');return false;">
          <span class="method-name">opx_new_tabulator_jd_ed</span><span class="method-args">(jd, ed, file)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Arguments:
</p>
<ul>
<li><em>jd</em> (<em>Hash</em>) Jurisdiction Definition

</li>
<li><em>ed</em> (<em>Hash</em>) Election Definition

</li>
<li><em>file</em> (<em>String</em>) <a href="Tabulator.html">Tabulator</a> data
file name

</li>
</ul>
<p>
Returns: <a href="Tabulator.html">Tabulator</a> Object
</p>
<p>
Returns the <a href="Tabulator.html">Tabulator</a> Object which results
from calling Tabulator.new with Jurisdiction and Election Definitions.
Generates a Fatal error if any problems occur.
</p>
        </div>
      </div>

      <div id="method-M000126" class="method-detail">
        <a name="M000126"></a>

        <div class="method-heading">
          <a href="Operator.src/M000126.html" target="Code" class="method-signature"
            onclick="popupCode('Operator.src/M000126.html');return false;">
          <span class="method-name">opx_new_tabulator_tc</span><span class="method-args">(tc)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Arguments:
</p>
<ul>
<li><em>tc</em> (<em>Hash</em>) <a href="Tabulator.html">Tabulator</a> Count

</li>
</ul>
<p>
Returns: <a href="Tabulator.html">Tabulator</a> Object
</p>
<p>
Returns the <a href="Tabulator.html">Tabulator</a> Object which results
from calling Tabulator.new with a <a href="Tabulator.html">Tabulator</a>
Count, re-instantiating the <a href="Tabulator.html">Tabulator</a>.
Generates a Fatal error if any problems occur.
</p>
        </div>
      </div>

      <div id="method-M000111" class="method-detail">
        <a name="M000111"></a>

        <div class="method-heading">
          <a href="Operator.src/M000111.html" target="Code" class="method-signature"
            onclick="popupCode('Operator.src/M000111.html');return false;">
          <span class="method-name">opx_print</span><span class="method-args">(text)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Arguments:
</p>
<ul>
<li><em>text</em> (<em>String</em>) text to print

</li>
</ul>
<p>
Returns: N/A
</p>
<p>
Prints the <em>text</em> to STDOUT. Generates a Fatal error if problems
occur.
</p>
        </div>
      </div>

      <div id="method-M000112" class="method-detail">
        <a name="M000112"></a>

        <div class="method-heading">
          <a href="Operator.src/M000112.html" target="Code" class="method-signature"
            onclick="popupCode('Operator.src/M000112.html');return false;">
          <span class="method-name">opx_print_tabulator_count</span><span class="method-args">(tab)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Arguments:
</p>
<ul>
<li><em>tab</em> (<em>Class Object</em>) <a href="Tabulator.html">Tabulator</a>
object

</li>
</ul>
<p>
Returns: N/A
</p>
<p>
Prints the YAML dump of the <a href="Tabulator.html">Tabulator</a> Count.
Generates a Fatal error if problems occur.
</p>
        </div>
      </div>

      <div id="method-M000113" class="method-detail">
        <a name="M000113"></a>

        <div class="method-heading">
          <a href="Operator.src/M000113.html" target="Code" class="method-signature"
            onclick="popupCode('Operator.src/M000113.html');return false;">
          <span class="method-name">opx_warn</span><span class="method-args">(tab)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Arguments:
</p>
<ul>
<li><em>tab</em> (<em>Class Object</em>) <a href="Tabulator.html">Tabulator</a>
object

</li>
</ul>
<p>
Returns: <a href="Tabulator.html">Tabulator</a> Object
</p>
<p>
Prints out any error and/or warning messages held by the <a
href="Tabulator.html">Tabulator</a> object, and then returns it.
</p>
        </div>
      </div>


    </div>


  </div>


<div id="validator-badges">
  <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
</div>

</body>
</html>