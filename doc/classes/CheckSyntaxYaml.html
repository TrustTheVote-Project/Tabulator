<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html 
     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>Class: CheckSyntaxYaml</title>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
  <meta http-equiv="Content-Script-Type" content="text/javascript" />
  <link rel="stylesheet" href=".././rdoc-style.css" type="text/css" media="screen" />
  <script type="text/javascript">
  // <![CDATA[

  function popupCode( url ) {
    window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
  }

  function toggleCode( id ) {
    if ( document.getElementById )
      elem = document.getElementById( id );
    else if ( document.all )
      elem = eval( "document.all." + id );
    else
      return false;

    elemStyle = elem.style;
    
    if ( elemStyle.display != "block" ) {
      elemStyle.display = "block"
    } else {
      elemStyle.display = "none"
    }

    return true;
  }
  
  // Make codeblocks hidden by default
  document.writeln( "<style type=\"text/css\">div.method-source-code { display: none }</style>" )
  
  // ]]>
  </script>

</head>
<body>



    <div id="classHeader">
        <table class="header-table">
        <tr class="top-aligned-row">
          <td><strong>Class</strong></td>
          <td class="class-name-in-header">CheckSyntaxYaml</td>
        </tr>
        <tr class="top-aligned-row">
            <td><strong>In:</strong></td>
            <td>
                <a href="../files/lib/check_syntax_yaml_rb.html">
                lib/check_syntax_yaml.rb
                </a>
        <br />
            </td>
        </tr>

        <tr class="top-aligned-row">
            <td><strong>Parent:</strong></td>
            <td>
                Object
            </td>
        </tr>
        </table>
    </div>
  <!-- banner header -->

  <div id="bodyContent">



  <div id="contextContent">

    <div id="description">
      <p>
The <a href="CheckSyntaxYaml.html">CheckSyntaxYaml</a> class provides a
Yaml Syntax Checker for the <a href="Tabulator.html">Tabulator</a>, which
checks the syntax of TTV Common Data Format (CDF) datasets provided as
input to the <a href="Tabulator.html">Tabulator</a>. It has two public
methods, <a href="CheckSyntaxYaml.html#M000086">check_syntax</a> for
checking the syntax of data files, and <a
href="CheckSyntaxYaml.html#M000094">schema_is_valid?</a> for checking the
syntax of the schemas used to check everything else.
</p>

    </div>


   </div>

    <div id="method-list">
      <h3 class="section-bar">Methods</h3>

      <div class="name-list">
      <a href="#M000086">check_syntax</a>&nbsp;&nbsp;
      <a href="#M000089">check_syntax_array</a>&nbsp;&nbsp;
      <a href="#M000093">check_syntax_error</a>&nbsp;&nbsp;
      <a href="#M000090">check_syntax_hash</a>&nbsp;&nbsp;
      <a href="#M000091">check_syntax_hash_key</a>&nbsp;&nbsp;
      <a href="#M000087">check_syntax_internal</a>&nbsp;&nbsp;
      <a href="#M000088">check_syntax_string</a>&nbsp;&nbsp;
      <a href="#M000092">check_syntax_trace</a>&nbsp;&nbsp;
      <a href="#M000094">schema_is_valid?</a>&nbsp;&nbsp;
      <a href="#M000096">schema_is_valid_array?</a>&nbsp;&nbsp;
      <a href="#M000097">schema_is_valid_hash?</a>&nbsp;&nbsp;
      <a href="#M000095">schema_is_valid_internal?</a>&nbsp;&nbsp;
      <a href="#M000098">schema_is_valid_key_value?</a>&nbsp;&nbsp;
      <a href="#M000099">schema_valid_error</a>&nbsp;&nbsp;
      <a href="#M000100">schema_valid_trace</a>&nbsp;&nbsp;
      <a href="#M000101">xprint</a>&nbsp;&nbsp;
      </div>
    </div>

  </div>


    <!-- if includes -->

    <div id="section">


    <div id="constants-list">
      <h3 class="section-bar">Constants</h3>

      <div class="name-list">
        <table summary="Constants">
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">TRACE_DEFAULT</td>
          <td>=</td>
          <td class="context-item-value">300</td>
          <td width="3em">&nbsp;</td>
          <td class="context-item-desc">
<b><tt>TRACE_DEFAULT</b></tt> is an <em>Integer</em> constant (300) that
holds the default setting for character-limited printing while tracing
output.

</td>
        </tr>
        </table>
      </div>
    </div>



    <div id="attribute-list">
      <h3 class="section-bar">Attributes</h3>

      <div class="name-list">
        <table>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">error_codes</td>
          <td class="context-item-value">&nbsp;[RW]&nbsp;</td>
          <td class="context-item-desc">
(<em>Array</em>) Stack of error codes.

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">error_messages</td>
          <td class="context-item-value">&nbsp;[RW]&nbsp;</td>
          <td class="context-item-desc">
<em>String</em> of error messages.

</td>
        </tr>
        </table>
      </div>
    </div>
      


    <!-- if method_list -->
    <div id="methods">
      <h3 class="section-bar">Public Instance methods</h3>

      <div id="method-M000086" class="method-detail">
        <a name="M000086"></a>

        <div class="method-heading">
          <a href="CheckSyntaxYaml.src/M000086.html" target="Code" class="method-signature"
            onclick="popupCode('CheckSyntaxYaml.src/M000086.html');return false;">
          <span class="method-name">check_syntax</span><span class="method-args">(schema, datum, validate = true, trace = TRACE_DEFAULT)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Arguments:
</p>
<ul>
<li><em>schema</em>: (<em>Arbitrary</em>) schema to syntax-check against

</li>
<li><em>datum</em>: (<em>Arbitrary</em>) datum being checked

</li>
<li><em>validate</em>: (<em>Boolean</em>) whether to validate the schema
(optional)

</li>
<li><em>trace</em>: (<em>Integer</em>) limits tracing of output (optional,
default 300 characters)

</li>
</ul>
<p>
Returns: <em>Array</em> of [<b><tt>error_codes</b></tt>,
<b><tt>error_messages</b></tt>]
</p>
<p>
The function <a href="CheckSyntaxYaml.html#M000086">check_syntax</a> is the
primary entry point into the <a
href="CheckSyntaxYaml.html">CheckSyntaxYaml</a> class. It first sets the
error code stack and the message string to empty. If <em>validate</em> is
<em>true</em> it checks the validity of the <em>schema</em>, and if
invalid, generates a syntax error and returns the error code stack [-1] and
any error messages. Finally, it initializes the data inspection depth to 0,
checks the syntax of the <em>datum</em> against the <em>schema</em>, and
returns two values, the error code stack (which will be empty if the check
succeeds, non-empty if it fails), and the <b><tt>error_messages</b></tt>
string.
</p>
<p>
The optional <em>trace</em> value limits tracing of output, and is consumed
by the functions <a
href="CheckSyntaxYaml.html#M000092">check_syntax_trace</a>, <a
href="CheckSyntaxYaml.html#M000093">check_syntax_error</a>, and <a
href="CheckSyntaxYaml.html#M000100">schema_valid_trace</a>. When
<em>trace</em> is negative, calls to all syntax-checking and
schema-validity-checking functions in this library are traced, and the
amount of output generated is limited to <em>trace.abs</em> characters of
output per item printed. When positive, it acts similarly to limit the
output printed by <a
href="CheckSyntaxYaml.html#M000093">check_syntax_error</a>.
</p>
        </div>
      </div>

      <div id="method-M000094" class="method-detail">
        <a name="M000094"></a>

        <div class="method-heading">
          <a href="CheckSyntaxYaml.src/M000094.html" target="Code" class="method-signature"
            onclick="popupCode('CheckSyntaxYaml.src/M000094.html');return false;">
          <span class="method-name">schema_is_valid?</span><span class="method-args">(schema, trace = TRACE_DEFAULT)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Arguments:
</p>
<ul>
<li><em>schema</em>: (<em>Arbitrary</em>) schema

</li>
<li><em>trace</em>: (<em>Integer</em>) limits tracing of output (optional,
default 300 characters)

</li>
</ul>
<p>
Returns: <em>Boolean</em>
</p>
<p>
A <em>schema</em> is a data structure comprised of Strings, Arrays, Hashes,
and combinations thereof, and nothing else. The method <a
href="CheckSyntaxYaml.html#M000094">schema_is_valid?</a> returns
<em>true</em> only when the <em>schema</em> has a valid format. It does
this by calling <a
href="CheckSyntaxYaml.html#M000095">schema_is_valid_internal?</a> to
perform the recursion. Method <a
href="CheckSyntaxYaml.html#M000094">schema_is_valid?</a> is public and is
only called internally from <a
href="CheckSyntaxYaml.html#M000086">check_syntax</a>, another public
method.
</p>
        </div>
      </div>

      <h3 class="section-bar">Private Instance methods</h3>

      <div id="method-M000089" class="method-detail">
        <a name="M000089"></a>

        <div class="method-heading">
          <a href="CheckSyntaxYaml.src/M000089.html" target="Code" class="method-signature"
            onclick="popupCode('CheckSyntaxYaml.src/M000089.html');return false;">
          <span class="method-name">check_syntax_array</span><span class="method-args">(index, schema, datum, depth, trace)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Arguments:
</p>
<ul>
<li><em>index</em>: (<em>Integer</em>) index of <em>datum</em> <em>Array</em>
element being examined

</li>
<li><em>schema</em>: (<em>Arbitrary</em>) schema

</li>
<li><em>datum</em>: (<em>Array</em>) datum

</li>
<li><em>depth</em>: (<em>Integer</em>) current data inspection depth

</li>
<li><em>trace</em>: (<em>Integer</em>) limits tracing of output

</li>
</ul>
<p>
Returns: <em>Boolean</em>
</p>
<p>
Recursively check all elements in the <em>Array</em> <em>datum</em> to
ensure they match the <em>schema</em>. Under our syntax-checking regime,
for each individual data array, all array elements must have the same type
and match the same schema.
</p>
        </div>
      </div>

      <div id="method-M000093" class="method-detail">
        <a name="M000093"></a>

        <div class="method-heading">
          <a href="CheckSyntaxYaml.src/M000093.html" target="Code" class="method-signature"
            onclick="popupCode('CheckSyntaxYaml.src/M000093.html');return false;">
          <span class="method-name">check_syntax_error</span><span class="method-args">(errcode, schema, datum, trace, extra = '')</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Arguments:
</p>
<ul>
<li><em>errcode</em>: (<em>Integer</em>) error code

</li>
<li><em>schema</em>: (<em>Arbitrary</em>) schema

</li>
<li><em>datum</em>: (<em>Arbitrary</em>) datum

</li>
<li><em>trace</em>: (<em>Integer</em>) limits tracing of output

</li>
<li><em>extra</em>: (<em>String</em>) extra error-printing information
(optional, default &#8217;&#8217;)

</li>
</ul>
<p>
Returns: <em>false</em>
</p>
<p>
Called when a syntax error is discovered. Pushes the <em>errcode</em> onto
the <b><tt>error_codes</b></tt> stack, prints a SYNTAX ERROR message
(potentially utilizing the optional <em>extra</em> argument), and then
prints the values of the mismatched <em>schema</em> and <em>data</em> items
(printout is character-limited to <em>trace.abs</em> characters per item).
</p>
<p>
When a syntax error is discovered, error codes are stacked onto
<b><tt>error_codes</b></tt>, via repeated calls to <a
href="CheckSyntaxYaml.html#M000093">check_syntax_error</a>, as the syntax
checker recursively unwinds. Error stacking permits the testing of other
than 1st-level errors, e.g., 2nd-level, 3rd-level, etc.
</p>
        </div>
      </div>

      <div id="method-M000090" class="method-detail">
        <a name="M000090"></a>

        <div class="method-heading">
          <a href="CheckSyntaxYaml.src/M000090.html" target="Code" class="method-signature"
            onclick="popupCode('CheckSyntaxYaml.src/M000090.html');return false;">
          <span class="method-name">check_syntax_hash</span><span class="method-args">(index, keys, schema, datum, depth, trace)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Arguments:
</p>
<ul>
<li><em>index</em>: (<em>Integer</em>) index into <em>keys</em> <em>Array</em>

</li>
<li><em>keys</em>: (<em>Array</em>) of all keys for <em>Hash</em>
<em>schema</em>

</li>
<li><em>schema</em>: (<em>Hash</em>) schema

</li>
<li><em>datum</em>: (<em>Hash</em>) datum

</li>
<li><em>depth</em>: (<em>Integer</em>) current data inspection depth

</li>
<li><em>trace</em>: (<em>Integer</em>) limits tracing of output

</li>
</ul>
<p>
Returns: <em>Boolean</em>
</p>
<p>
Recursively check all of the <em>keys</em> in the <em>Hash</em>
<em>schema</em>, to ensure there is a match for each in the <em>Hash</em>
<em>datum</em>.
</p>
        </div>
      </div>

      <div id="method-M000091" class="method-detail">
        <a name="M000091"></a>

        <div class="method-heading">
          <a href="CheckSyntaxYaml.src/M000091.html" target="Code" class="method-signature"
            onclick="popupCode('CheckSyntaxYaml.src/M000091.html');return false;">
          <span class="method-name">check_syntax_hash_key</span><span class="method-args">(key, schema, datum, depth, trace)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Arguments:
</p>
<ul>
<li><em>key</em>: (<em>Atomic</em>) key for syntax-checking <em>Hash</em>
<em>datum</em>

</li>
<li><em>schema</em>: (<em>Hash</em>) schema

</li>
<li><em>datum</em>: (<em>Hash</em>) datum

</li>
<li><em>depth</em>: (<em>Integer</em>) current data inspection depth

</li>
<li><em>trace</em>: (<em>Integer</em>) limits tracing of output

</li>
</ul>
<p>
Returns: <em>Boolean</em>
</p>
<p>
There are three types of <em>Hash</em> schemas, all of whose keys must be
of type <em>String</em>. Two reserved types of strings are used to
represent special cases when matching <em>Hash</em> keys:
</p>
<ul>
<li>strings matching &quot;|OPT.*|&quot;, for optional <em>Hash</em> keys, and

</li>
<li>strings matching &quot;|ALT.*|&quot;, for alternative <em>Hash</em> keys.

</li>
</ul>
<p>
The reason for not just using either &quot;|OPT|&quot; or &quot;|ALT|&quot;
is that there may be requirements for more than one such match within a
single <em>Hash</em> schema, and <em>Hash</em> keys must be unique, so one
may use &quot;|OPT1|&quot; and &quot;|OPT2|&quot;, for instance, to
disambiguate them.
</p>
<p>
For OPT(ional)-keyed <em>Hash</em> schemas, the corresponding value in the
schema is a single-keyed <em>Hash</em> that may or may not appear in the
datum, but if it does, must match.
</p>
<p>
For ALT(ernative)-keyed <em>Hash</em> schemas, the corresponding value in
the schema is a dual-keyed <em>Hash</em>, one of whose keys and values must
appear in the datum, and both of which may not.
</p>
<p>
For all other <em>Hash</em> schemas, the <em>Hash</em> key must appear in
the datum and the corresponding value must match.
</p>
        </div>
      </div>

      <div id="method-M000087" class="method-detail">
        <a name="M000087"></a>

        <div class="method-heading">
          <a href="CheckSyntaxYaml.src/M000087.html" target="Code" class="method-signature"
            onclick="popupCode('CheckSyntaxYaml.src/M000087.html');return false;">
          <span class="method-name">check_syntax_internal</span><span class="method-args">(schema, datum, depth, trace)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Arguments:
</p>
<ul>
<li><em>schema</em>: (<em>Arbitrary</em>) schema

</li>
<li><em>datum</em>: (<em>Arbitrary</em>) datum

</li>
<li><em>depth</em>: (<em>Integer</em>) current data inspection depth

</li>
<li><em>trace</em>: (<em>Integer</em>) limits tracing of output

</li>
</ul>
<p>
Returns: <em>Boolean</em>
</p>
<p>
The function <a
href="CheckSyntaxYaml.html#M000087">check_syntax_internal</a> is the
internal top-level version of <a
href="CheckSyntaxYaml.html#M000086">check_syntax</a> (which is never called
internally), and performs the actual recursive syntax-checking. If the
<em>schema</em> is a <em>String</em>, <a
href="CheckSyntaxYaml.html#M000088">check_syntax_string</a> checks the
syntax. Otherwise, the <em>schema</em> must be an <em>Array</em> or a
<em>Hash</em>, and likewise for the <em>datum</em>, so either <a
href="CheckSyntaxYaml.html#M000089">check_syntax_array</a> or <a
href="CheckSyntaxYaml.html#M000090">check_syntax_hash</a> checks the
syntax.
</p>
        </div>
      </div>

      <div id="method-M000088" class="method-detail">
        <a name="M000088"></a>

        <div class="method-heading">
          <a href="CheckSyntaxYaml.src/M000088.html" target="Code" class="method-signature"
            onclick="popupCode('CheckSyntaxYaml.src/M000088.html');return false;">
          <span class="method-name">check_syntax_string</span><span class="method-args">(schema, datum, depth, trace)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Arguments:
</p>
<ul>
<li><em>schema</em>: (<em>String</em>) schema

</li>
<li><em>datum</em>: (<em>Arbitrary</em>) datum

</li>
<li><em>depth</em>: (<em>Integer</em>) current data inspection depth

</li>
<li><em>trace</em>: (<em>Integer</em>) limits tracing of output

</li>
</ul>
<p>
Returns: <em>Boolean</em>
</p>
<p>
The valid strings that may appear in a <em>schema</em> are as follows:
</p>
<ul>
<li>&quot;Any&quot;: matches any <em>datum</em>

</li>
<li>&quot;String&quot;: matches any <em>datum</em> of type <em>String</em>,
<em>Date</em> or <em>Time</em>

</li>
<li>&quot;Integer&quot;: matches any <em>datum</em> of type <em>Integer</em>

</li>
<li>&quot;Atomic&quot;: matches any <em>datum</em> of type <em>String</em>,
<em>Integer</em>, or <em>Date</em> or <em>Time</em>

</li>
</ul>
<p>
All other schema strings are invalid and result in a syntax error, which
may indicate the presence of an internal error, in that the schema being
used is invalid.
</p>
        </div>
      </div>

      <div id="method-M000092" class="method-detail">
        <a name="M000092"></a>

        <div class="method-heading">
          <a href="CheckSyntaxYaml.src/M000092.html" target="Code" class="method-signature"
            onclick="popupCode('CheckSyntaxYaml.src/M000092.html');return false;">
          <span class="method-name">check_syntax_trace</span><span class="method-args">(context, schema, datum, depth, trace)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Arguments:
</p>
<ul>
<li><em>context</em>: (<em>String</em>) holds the calling context

</li>
<li><em>schema</em>: (<em>Arbitrary</em>) schema

</li>
<li><em>datum</em>: (<em>Arbitrary</em>) datum

</li>
<li><em>depth</em>: (<em>Integer</em>) current data inspection depth

</li>
<li><em>trace</em>: (<em>Integer</em>) limits tracing of output

</li>
</ul>
<p>
Returns: N/A
</p>
<p>
(For Debugging) Operates only when the <em>trace</em> limit is negative, by
printing the inspection <em>depth</em> and the values of the
<em>schema</em> and <em>datum</em> items (printout is character-limited to
<em>trace.abs</em> characters for each item).
</p>
        </div>
      </div>

      <div id="method-M000096" class="method-detail">
        <a name="M000096"></a>

        <div class="method-heading">
          <a href="CheckSyntaxYaml.src/M000096.html" target="Code" class="method-signature"
            onclick="popupCode('CheckSyntaxYaml.src/M000096.html');return false;">
          <span class="method-name">schema_is_valid_array?</span><span class="method-args">(schema, trace)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Arguments:
</p>
<ul>
<li><em>schema</em>: (<em>Array</em>) schema

</li>
<li><em>trace</em>: (<em>Integer</em>) limits tracing of output

</li>
</ul>
<p>
Returns: &lt;i&gt;Boolean&lt;i&gt;
</p>
<p>
A <em>schema</em> of type <em>Array</em> is valid only if it has one
element and that element is a valid schema. This provision limits the type
of acceptable data arrays to those whose elements all have the same type
and match the same schema.
</p>
        </div>
      </div>

      <div id="method-M000097" class="method-detail">
        <a name="M000097"></a>

        <div class="method-heading">
          <a href="CheckSyntaxYaml.src/M000097.html" target="Code" class="method-signature"
            onclick="popupCode('CheckSyntaxYaml.src/M000097.html');return false;">
          <span class="method-name">schema_is_valid_hash?</span><span class="method-args">(schema, trace)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Arguments:
</p>
<ul>
<li><em>schema</em>: (<em>Hash</em>) schema

</li>
<li><em>trace</em>: (<em>Integer</em>) limits tracing of output

</li>
</ul>
<p>
Returns: &lt;i&gt;Boolean&lt;i&gt;
</p>
<p>
A <em>schema</em> of type <em>Hash</em> is valid only each of its
<em>key,value</em> pairs is valid.
</p>
        </div>
      </div>

      <div id="method-M000095" class="method-detail">
        <a name="M000095"></a>

        <div class="method-heading">
          <a href="CheckSyntaxYaml.src/M000095.html" target="Code" class="method-signature"
            onclick="popupCode('CheckSyntaxYaml.src/M000095.html');return false;">
          <span class="method-name">schema_is_valid_internal?</span><span class="method-args">(schema, trace)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Arguments:
</p>
<ul>
<li><em>schema</em>: (<em>Arbitrary</em>) schema

</li>
<li><em>trace</em>: (<em>Integer</em>) limits tracing of output (optional,
default 300 characters)

</li>
</ul>
<p>
Returns: <em>Boolean</em>
</p>
<p>
If the schema is a <em>String</em>, it must be one of (Integer, String,
Atomic, Any). If the schema is an <em>Array</em>, <a
href="CheckSyntaxYaml.html#M000096">schema_is_valid_array?</a> is called to
perform the validity check. If the schema is a <em>Hash</em>, <a
href="CheckSyntaxYaml.html#M000097">schema_is_valid_hash?</a> is called to
perform the validity check. No other types of schemas are valid.
</p>
        </div>
      </div>

      <div id="method-M000098" class="method-detail">
        <a name="M000098"></a>

        <div class="method-heading">
          <a href="CheckSyntaxYaml.src/M000098.html" target="Code" class="method-signature"
            onclick="popupCode('CheckSyntaxYaml.src/M000098.html');return false;">
          <span class="method-name">schema_is_valid_key_value?</span><span class="method-args">(key, value, trace)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Arguments:
</p>
<ul>
<li><em>key</em>: (<em>Arbitrary</em>) <em>Hash</em> key

</li>
<li><em>value</em>: (<em>Arbitrary</em>) <em>Hash</em> value

</li>
<li><em>trace</em>: (<em>Integer</em>) limits tracing of output

</li>
</ul>
<p>
Returns: <em>Boolean</em>
</p>
<p>
A <em>Hash</em> <em>key,value</em> pair is valid if the <em>key</em> is a
<em>String</em> and the value is a valid schema. But there are two special
types of keys, as documented under <a
href="CheckSyntaxYaml.html#M000091">check_syntax_hash_key</a>:
</p>
<ul>
<li>keys matching &quot;|OPT.*|&quot;, in which case the value must be a
single-keyed <em>Hash</em> (the option), and

</li>
<li>keys matching &quot;|ALT.*|&quot;, in which case the value must be a
dual-keyed <em>Hash</em> (the alternatives).

</li>
</ul>
<p>
OPT(ional) schema keys permit schemas to match data with an optional
<em>Hash</em> key.
</p>
<p>
ALT(ernative) schema keys permit schemas to match data with one or another
alternative <em>Hash</em> keys, but not both.
</p>
        </div>
      </div>

      <div id="method-M000099" class="method-detail">
        <a name="M000099"></a>

        <div class="method-heading">
          <a href="CheckSyntaxYaml.src/M000099.html" target="Code" class="method-signature"
            onclick="popupCode('CheckSyntaxYaml.src/M000099.html');return false;">
          <span class="method-name">schema_valid_error</span><span class="method-args">(schema, message, trace)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Arguments:
</p>
<ul>
<li><em>schema</em>: (<em>Arbitrary</em>) schema

</li>
<li><em>message</em>: (<em>String</em>) error message

</li>
<li><em>trace</em>: (<em>Integer</em>) limits tracing of output

</li>
</ul>
<p>
Returns: <em>false</em>
</p>
<p>
Prints an INVALID SCHEMA error message and returns <em>false</em>.
</p>
        </div>
      </div>

      <div id="method-M000100" class="method-detail">
        <a name="M000100"></a>

        <div class="method-heading">
          <a href="CheckSyntaxYaml.src/M000100.html" target="Code" class="method-signature"
            onclick="popupCode('CheckSyntaxYaml.src/M000100.html');return false;">
          <span class="method-name">schema_valid_trace</span><span class="method-args">(context, schema, trace, key = '')</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Arguments:
</p>
<ul>
<li><em>context</em>: (<em>String</em>) holds the calling context

</li>
<li><em>schema</em>: (<em>Arbitrary</em>) schema

</li>
<li><em>trace</em>: (<em>Integer</em>) limits tracing of output

</li>
<li><em>key</em>: (<em>Hash</em>) key (optional, default &#8217;&#8217;)

</li>
</ul>
<p>
Returns: N/A
</p>
<p>
(For Debugging) Operates only when the <em>trace</em> limit is negative, by
printing the calling <em>context</em>, the optional <em>Hash</em>
<em>key</em>, and the <em>schema</em> (whose printout is character-limited
to <em>trace.abs</em> characters).
</p>
        </div>
      </div>

      <div id="method-M000101" class="method-detail">
        <a name="M000101"></a>

        <div class="method-heading">
          <a href="CheckSyntaxYaml.src/M000101.html" target="Code" class="method-signature"
            onclick="popupCode('CheckSyntaxYaml.src/M000101.html');return false;">
          <span class="method-name">xprint</span><span class="method-args">(text)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Arguments:
</p>
<ul>
<li><em>text</em>: (<em>String</em>) text to add to the end of the
<b><tt>error_messages</b></tt> <em>String</em>

</li>
</ul>
<p>
This method substitutes for printing error <b><tt>messages</b></tt> as they
occur. Instead we catenate them onto one large <b><tt>messages</b></tt>
string and return this string as a result of each syntax check, along with
the corresponding <b><tt>error_codes</b></tt> stack.
</p>
        </div>
      </div>


    </div>


  </div>


<div id="validator-badges">
  <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
</div>

</body>
</html>